{% extends 'navbar/navbar.html' %}
{% load static %}

{% block another_link %}
<link rel="stylesheet" href="{% static 'edit_profile_css/edit_profile_form.css' %}">
{% endblock %}

{% block body %}
<div class="main_edit_user_profile_container">
    <div class="settings_navbar">
      {% include 'settings/settings_navbar.html' %}
    </div>
    <div class="main_edit_user_content_container">
      <div style="color: black; font-weight: 700;">Edit profile</div>
      <div class="edit_user_profile_container">
        <div class="edit_user_profile_image_container">
          {% if request.user.is_authenticated and request.user.profile_picture %}
          <img 
          class="edit_user_img"
          src="{{ request.user.profile_picture.url }}" 
           alt="Profile" width="40" height="40">
          {% else %}
          <img 
          class="edit_user_img"
          src="{% static 'user_profile/no_user_img.jpg' %}" alt="Default">
          {% endif %}  
          <div style="font-weight: 500; color: black;">{{user_details.username}}</div>
        </div>
        <form id="uploadForm" enctype="multipart/form-data" method="post" action="{% url 'edit_user_profile' request.user.id %}">
          {% csrf_token %}
          <label class="btn edit_user_profile_change_photo_btn">
            Change Photo
            <input type="file" name="image" accept="image/*" hidden onchange="document.getElementById('uploadForm').submit();">
          </label>
        </form>
      </div>
      <form class="website_container"
      id="uploadWebsite"
      method="post" action="{% url 'edit_user_profile' 0 %}"
      > 
      {% csrf_token %}
        <div style="color: black; font-weight: 700;">Website</div>
        <input 
        type="text" 
        placeholder="Website" 
        class="website_input_field"
        onchange="document.getElementById('uploadWebsite').submit();"
        >
        <div style="color: rgb(170, 172, 173); font-size: 0.7rem;">
        Editing your links is only available on mobile. Visit the Instagram app and edit your profile to change the websites in your bio.
        </div>
      </form>
      <form class="bio_container"
      id="uploadBio"
      method="post" action="{% url 'edit_user_profile' 0 %}"
      >
      {% csrf_token %}
        <div class="bio_heading" 
        style="color: black; font-weight: 700;">
        Bio</div>
        <textarea name="bio" 
        class="bio_text_area"
        onchange="document.getElementById('uploadBio').submit();"
        placeholder="Bio">{{ request.user.bio }}</textarea>

      </form>
     <form class="gender_container" id="uploadGender"
  method="post" action="{% url 'edit_user_profile' 0 %}">
  {% csrf_token %}
  <div style="color: black; font-weight: 700;">
      Gender
  </div>
  <input type="text" 
      name="gender"
      placeholder="Gender"
      class="gender_input_field"
      value="{{ request.user.gender }}"
      onchange="document.getElementById('uploadGender').submit();"
  >
  <div style="color: rgb(186, 189, 190); font-size: 0.7rem">
      This wonâ€™t be part of your public profile.
  </div>
</form>

      <div class="show_account_suggestion_container">
        <div>
            <div class="show_suggestion_heading">
                Show account suggestions on profiles
            </div>
            <div class="suggest_post_container">
              <div>
                  Choose whether people can see similar account suggestions on your profile, and whether your account can be suggested on other profiles.
              </div>
                <div class="show_suggestion_container">
                  <div class="form-check form-switch swith_container">
                  <input class="form-check-input" 
                    type="checkbox" id="flexSwitchCheckDefault">
                  </div>
                </div>
            </div>
        </div>
  
      </div>
    </div>
</div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<script src="{% static 'js/user_profile/image_uploader.js' %}"></script>
{% endblock %}


